# ğŸ“˜ Node.js / npm / dev / ëª¨ë“ˆ ì •ë¦¬

---

## 1ï¸âƒ£ Node.jsë€?

* ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¸Œë¼ìš°ì € ë°–ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ëŸ°íƒ€ì„(Runtime)
* React, Vue ê°™ì€ í”„ë ˆì„ì›Œí¬ë¥¼ **ê°œë°œÂ·ì‹¤í–‰í•˜ê¸° ìœ„í•œ í™˜ê²½ ê¸°ë°˜**

---

## 2ï¸âƒ£ init (ì´ˆê¸°í™”)

* `init` = í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
* Node í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ ì‚¬ìš©

```bash
npm init  // ì„¤ì • í•˜ë‚˜ì”© í™•ì¸ ê°€ëŠ¥
npm init -y // ì„¤ì • ì„ íƒ ìŠ¤í‚µí•˜ê³  ì› ì„¤ì • ë‹¤ ë°›ìŒ
```

---

## 3ï¸âƒ£ package.json

* Node í”„ë¡œì íŠ¸ì˜ ì„¤ì • íŒŒì¼
* ì´ íŒŒì¼ì´ ìˆì–´ì•¼ Node í”„ë¡œì íŠ¸ë¡œ ì¸ì‹ë¨

í¬í•¨ ë‚´ìš©:

* í”„ë¡œì íŠ¸ ì •ë³´
* ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ ëª©ë¡
* ì‹¤í–‰ ëª…ë ¹ì–´ (`scripts`)

---

## 4ï¸âƒ£ npmì´ë€?

### npm = Node Package Manager

* ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(íŒ¨í‚¤ì§€)ë¥¼ ì„¤ì¹˜Â·ê´€ë¦¬í•˜ëŠ” ë„êµ¬
* Node.js ì„¤ì¹˜ ì‹œ ìë™ í¬í•¨
* **í”„ë¡œì íŠ¸ ë‹¨ìœ„ë¡œ ë™ì‘**

### Node vs npm

* **Node** â†’ JS ì‹¤í–‰ í™˜ê²½ (ë‹¨ì¼ ëŸ°íƒ€ì„)
* **npm** â†’ í”„ë¡œì íŠ¸ íŒŒì¼ ë° íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬

---

## 5ï¸âƒ£ devë€? (development)

* ê°œë°œ ì¤‘ì— ì‚¬ìš©í•˜ëŠ” **ê°œë°œ ì„œë²„ ëª¨ë“œ**
* íŒŒì¼ ë³€ê²½ì„ ê°ì§€í•´ì„œ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ì‹¤í–‰
* nodemonì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ë§Œ ì‹¤í–‰ ê°€ëŠ¥í•¨(6ï¸âƒ£)

```bash
npm run dev
```

### íŠ¹ì§•

* íŒŒì¼ ë³€ê²½ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨
* auto save ì¼œë‘ë©´ ì…ë ¥ ì¤‘ì—ë„ ê³„ì† ì¬ì‹¤í–‰ë¨
  â†’ **auto save ë„ëŠ” ê±¸ ì¶”ì²œ**

### ì¢…ë£Œ ë°©ë²•

* `Ctrl + C` â†’ ì •ìƒ ì¢…ë£Œ
* `Ctrl + C` ë‘ ë²ˆ â†’ ê°•ì œ ì¢…ë£Œ

---

## 6ï¸âƒ£ nodemonì´ë€?
* íŒŒì¼ ë³€ê²½ì„ ê°ì§€í•´ì„œ **Node ì„œë²„ë¥¼ ìë™ ì¬ì‹œì‘**í•´ì£¼ëŠ” ë„êµ¬

### ì„¤ì¹˜ ë°©ë²•

> âš ï¸ ë°˜ë“œì‹œ `package.json`ì´ ìˆëŠ” ìœ„ì¹˜ì—ì„œ ì‹¤í–‰

```bash
npm i nodemon
```

ì„¤ì¹˜ í›„ êµ¬ì¡°:

```
node_modules/
package.json
package-lock.json
```

> âš ï¸nodemonì€ **í”„ë¡œì íŠ¸ë³„ ì„¤ì¹˜** (ì „ì—­ê³µìœ  ì•ˆ ë¨)

#### ğŸ¤”ê·¸ëŸ¼ ë‹¤ë¥¸ PCì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´?

```bash
npm i
```

â†’ `package.json` ê¸°ì¤€ìœ¼ë¡œ ìë™ ì¬ì„¤ì¹˜ë¨

#### ğŸ¤”ì™œ ì´ë ‡ê²Œ í•˜ë‚˜ìš”?
* ì„¤ì¹˜í•œ ëª¨ë“  íŒ¨í‚¤ì§€ê°€ ë“¤ì–´ìˆëŠ” í´ë”
* ìš©ëŸ‰ì´ ë§¤ìš° í¼ ==> GitHubì— ì˜¬ë¦´ ë•Œ âŒ ì œì™¸

---

## 8ï¸âƒ£ CommonJS ë°©ì‹ (Node ê¸°ë³¸)

### ğŸ“¤ export =ë‚´ë³´ë‚´ê¸° (ë‹¤ë¥¸ íŒŒì¼)

```js
const a = true;
const b = false;

module.exports = { a, b };
```

### ğŸ“¥ import =ê°€ì ¸ì˜¤ê¸° (index íŒŒì¼)

```js
const { a, b } = require("./main");

console.log(a);
console.log(b);
```

* í•˜ë‚˜ë§Œ ë³´ë‚¼ ë•Œ â†’ ë³€ìˆ˜ ê·¸ëŒ€ë¡œ
* ì—¬ëŸ¬ ê°œ ë³´ë‚¼ ë•Œ â†’ `{}`ë¡œ ë¬¶ì–´ì„œ ë³´ëƒ„

#### ë¶„ë¦¬í•˜ëŠ” ì´ìœ 

* index íŒŒì¼ì´ ì»¤ì§€ëŠ” ê±¸ ë°©ì§€
* ì—­í• ë³„ íŒŒì¼ ë¶„ë¦¬ â†’ ê°€ë…ì„± í–¥ìƒ

---

## 9ï¸âƒ£ ESM ë°©ì‹ (ES Module)

### ğŸ“¤ export

```js
export function text() {}
export const msg = "ì–´ì©Œêµ¬";
```

### ğŸ“¥ import

```js
import { text, msg } from "./module.js";
```

ë˜ëŠ”

```js
export default function() {}
import func from "./module.js";
```
<img width="963" height="77" alt="image" src="https://github.com/user-attachments/assets/c2522348-7fab-4ab5-bba7-113632e2008f" />

---

## ğŸ”Ÿ CommonJS â†” ESM ì „í™˜ ë°©ë²•

`package.json`ì—ì„œ ì„¤ì •

```json
{
  "type": "commonjs"
}
```

ë˜ëŠ”

```json
{
  "type": "module"
}
```

* `commonjs` â†’ require / module.exports
* `module` â†’ import / export

---

## 1ï¸âƒ£1ï¸âƒ£ Node.jsë¡œ ì›¹í˜ì´ì§€ ì¶œë ¥í•˜ê¸°

```js
// server.mjs
import { createServer } from 'node:http';

const server = createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/html; charset=utf-8' });
  res.end('<h1>ì•ˆë‡½ì¹­êµ¬ë“¤~!</h1>');
});

server.listen(3000, '127.0.0.1', () => {
  console.log('http://127.0.0.1:3000');
});
```

ë¸Œë¼ìš°ì €ì—ì„œ 'http://127.0.0.1:3000' ì£¼ì†Œ ì ‘ì† â†’ í™”ë©´ ì¶œë ¥

### req / res

* `req` â†’ request (ìš”ì²­)
* `res` â†’ response (ì‘ë‹µ)

### writeHead ì„¤ëª…

* html íŒŒì¼ì˜ headì™€ ê°™ìŒ(ì„¤ì • íŒŒíŠ¸)
* `200` â†’ ì •ìƒ ì‘ë‹µ
* `text/html` â†’ HTMLë¡œ í•´ì„(ê¸°ë³¸ì€ 'text/plain')
* `charset=utf-8` â†’ í•œê¸€ ì¶œë ¥

---

## 1ï¸âƒ£2ï¸âƒ£ URLì— ë”°ë¼ ë‹¤ë¥¸ í™”ë©´ ì¶œë ¥

### controller íŒŒì¼

```js
export function controller(req) {
  let html = "";

  if (req.url === "/a") {
    html = "<h2>A ì£¼ì†Œ</h2>";
  } else {
    html = text();
  }

  return html;
}
```

### index íŒŒì¼

```js
const html = controller(req);
res.end(html);
```

### ë™ì‘ ì„¤ëª…

* `/a` â†’ A ì£¼ì†Œ í™”ë©´ ì¶œë ¥
* ê·¸ ì™¸ â†’ `text()` í•¨ìˆ˜ ê²°ê³¼ ì¶œë ¥

> ğŸ’¡ `/a`ë§Œ ì²˜ë¦¬í•  ê±°ë©´
> `if` ì•ˆì—ì„œ `return` ì‚¬ìš© â†’ `else` ìƒëµ ê°€ëŠ¥

